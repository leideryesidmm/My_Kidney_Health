const _0x2c5433=_0x1da3;(function(_0x384629,_0x16ab6b){const _0x56f561=_0x1da3,_0x3cd12e=_0x384629();while(!![]){try{const _0x20d2e9=-parseInt(_0x56f561(0x10f))/0x1+parseInt(_0x56f561(0x113))/0x2+parseInt(_0x56f561(0x101))/0x3*(-parseInt(_0x56f561(0x134))/0x4)+-parseInt(_0x56f561(0xfb))/0x5+-parseInt(_0x56f561(0x13f))/0x6+-parseInt(_0x56f561(0x12d))/0x7*(-parseInt(_0x56f561(0x10c))/0x8)+parseInt(_0x56f561(0x129))/0x9;if(_0x20d2e9===_0x16ab6b)break;else _0x3cd12e['push'](_0x3cd12e['shift']());}catch(_0x5ec6b6){_0x3cd12e['push'](_0x3cd12e['shift']());}}}(_0x30a4,0x5e48b));function _0x1da3(_0x2ce64e,_0x4a03c8){const _0x30a46e=_0x30a4();return _0x1da3=function(_0x1da355,_0x4a6239){_0x1da355=_0x1da355-0xfb;let _0x1c9039=_0x30a46e[_0x1da355];return _0x1c9039;},_0x1da3(_0x2ce64e,_0x4a03c8);}let servidorAPI=_0x2c5433(0x126),iv,cajaNegra2;var requestOptions={'method':_0x2c5433(0x13a),'headers':{'Accept':_0x2c5433(0x10b),'Content-Type':'application/json'},'redirect':_0x2c5433(0x135)};let obtenerClave=async()=>{const _0xf2de6=_0x2c5433;try{const _0x9280e7=await fetch(servidorAPI+'Usuario/claveFrontend',requestOptions),_0x5c06fc=await _0x9280e7[_0xf2de6(0x107)]();cajaNegra2=_0x5c06fc;}catch(_0x3cf0ba){return console[_0xf2de6(0x13e)]('error',_0x3cf0ba),null;}},obtenerIv=async()=>{const _0x2028bf=_0x2c5433;try{const _0x148e0e=await fetch(servidorAPI+_0x2028bf(0x132),requestOptions),_0x3bb717=await _0x148e0e[_0x2028bf(0x107)]();iv=_0x3bb717;}catch(_0x285e3f){return console[_0x2028bf(0x13e)](_0x2028bf(0x10d),_0x285e3f),null;}};function isAuthenticated(){const _0x1d5672=_0x2c5433;return localStorage[_0x1d5672(0x111)](_0x1d5672(0x108))===_0x1d5672(0x115);}let login=async _0x2d2d44=>{const _0xfe45f6=_0x2c5433;let _0x4e252a=![];_0x2d2d44[_0xfe45f6(0x131)](),await obtenerClave(),await obtenerIv();const _0xb2790a=document[_0xfe45f6(0x103)](_0xfe45f6(0x116))['value'],_0x375bde=document['getElementById'](_0xfe45f6(0x10e))['value'];console['log'](iv),console[_0xfe45f6(0x13e)](cajaNegra2);let _0x18b572=CryptoJS['AES'][_0xfe45f6(0x12b)](CryptoJS[_0xfe45f6(0x142)]['Utf8'][_0xfe45f6(0xfc)](encodeURIComponent(_0xb2790a)),CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS['mode']['CBC'],'padding':CryptoJS[_0xfe45f6(0x136)]['Pkcs7']})[_0xfe45f6(0x123)](),_0x306a56=CryptoJS['AES']['encrypt'](CryptoJS['enc'][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](encodeURIComponent(_0x375bde)),CryptoJS['enc'][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)]['parse'](iv),'mode':CryptoJS[_0xfe45f6(0x117)][_0xfe45f6(0x109)],'padding':CryptoJS[_0xfe45f6(0x136)][_0xfe45f6(0x143)]})[_0xfe45f6(0x123)](),_0x388fd0={'cedula':_0x18b572,'contrasenia':_0x306a56};console[_0xfe45f6(0x13e)](_0x388fd0);const _0x1b1837=await fetch(servidorAPI+_0xfe45f6(0x140),{'method':_0xfe45f6(0x12f),'body':JSON[_0xfe45f6(0x118)](_0x388fd0),'headers':{'Accept':_0xfe45f6(0x10b),'Content-Type':'application/json'}});if(_0x1b1837[_0xfe45f6(0x112)]!=0xcc){const _0x1afeb8=await _0x1b1837[_0xfe45f6(0x13b)]();console[_0xfe45f6(0x13e)](_0x1afeb8);let _0x5a2839=decodeURIComponent(CryptoJS['AES'][_0xfe45f6(0x138)](_0x1afeb8[0x0][_0xfe45f6(0x11c)],CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)]['CBC'],'padding':CryptoJS[_0xfe45f6(0x136)][_0xfe45f6(0x143)]})[_0xfe45f6(0x123)](CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)])),_0x20700d=decodeURIComponent(CryptoJS[_0xfe45f6(0x104)][_0xfe45f6(0x138)](_0x1afeb8[0x0][_0xfe45f6(0x12e)],CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)]['parse'](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)]['Utf8'][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)]['CBC'],'padding':CryptoJS[_0xfe45f6(0x136)][_0xfe45f6(0x143)]})['toString'](CryptoJS['enc'][_0xfe45f6(0x114)]));if(_0x5a2839===_0xb2790a&&_0x20700d===_0x375bde){localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x108),_0xfe45f6(0x115));let _0x243ad6=_0xfe45f6(0x119);datos={'cedula':_0x1afeb8[0x0][_0xfe45f6(0x11c)],'contrasenia':_0x1afeb8[0x0][_0xfe45f6(0x12e)],'usuario':_0x243ad6,'token':_0x1afeb8[0x1]};const _0x1375c6=JSON[_0xfe45f6(0x118)](datos);localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x121),_0x1375c6),localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x130),servidorAPI),location[_0xfe45f6(0x124)]=_0xfe45f6(0x106),_0x4e252a=!![];return;}}if(_0x4e252a==!![])return;const _0x525f81=await fetch(servidorAPI+_0xfe45f6(0x102),{'method':'POST','body':JSON['stringify'](_0x388fd0),'headers':{'Accept':_0xfe45f6(0x10b),'Content-Type':_0xfe45f6(0x10b)}});let _0x4b5dd9=![],_0x43170a=![];console[_0xfe45f6(0x13e)](_0x525f81[_0xfe45f6(0x112)]);if(_0x525f81[_0xfe45f6(0x112)]!==0xcc){const _0x4c1443=await _0x525f81['json']();console[_0xfe45f6(0x13e)](_0x4c1443);if(_0x4c1443[0x0][_0xfe45f6(0xff)]==!![]){let _0x42c02c=decodeURIComponent(CryptoJS[_0xfe45f6(0x104)][_0xfe45f6(0x138)](_0x4c1443[0x0][_0xfe45f6(0x11c)],CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)]['parse'](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)]['CBC'],'padding':CryptoJS[_0xfe45f6(0x136)][_0xfe45f6(0x143)]})[_0xfe45f6(0x123)](CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)])),_0x583101=decodeURIComponent(CryptoJS[_0xfe45f6(0x104)][_0xfe45f6(0x138)](_0x4c1443[0x0]['contrasenia'],CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)]['parse'](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)]['CBC'],'padding':CryptoJS[_0xfe45f6(0x136)]['Pkcs7']})[_0xfe45f6(0x123)](CryptoJS[_0xfe45f6(0x142)]['Utf8']));if(_0x42c02c===_0xb2790a&&_0x583101===_0x375bde){localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x108),'true');let _0x4d0950=_0xfe45f6(0x133);datos={'cedula':_0x4c1443[0x0][_0xfe45f6(0x11c)],'contrasenia':_0x4c1443[0x0]['contrasenia'],'usuario':_0x4d0950,'token':_0x4c1443[0x1]};const _0x7dca5b=JSON[_0xfe45f6(0x118)](datos);localStorage['setItem'](_0xfe45f6(0x121),_0x7dca5b),localStorage['setItem'](_0xfe45f6(0x130),servidorAPI),console[_0xfe45f6(0x13e)](localStorage[_0xfe45f6(0x141)]('datos',_0x7dca5b));let _0x51d985=_0x4c1443[0x0][_0xfe45f6(0x105)];return localStorage[_0xfe45f6(0x141)]('cambiado',_0x51d985),console[_0xfe45f6(0x13e)](_0x51d985),!_0x51d985?(location['href']=_0xfe45f6(0x110),_0x4b5dd9=!![],_0x51d985):(location[_0xfe45f6(0x124)]=_0xfe45f6(0x10a),_0x4b5dd9=!![],_0x51d985);}}};if(!_0x4b5dd9){const _0x209579=await fetch(servidorAPI+'Usuario/findMedicoByCedula/true',{'method':_0xfe45f6(0x12f),'body':JSON[_0xfe45f6(0x118)](_0x388fd0),'headers':{'Accept':_0xfe45f6(0x10b),'Content-Type':'application/json'}});console[_0xfe45f6(0x13e)](_0x209579['status']);if(_0x209579[_0xfe45f6(0x112)]!=0xcc){const _0x308d26=await _0x209579['json']();console[_0xfe45f6(0x13e)](_0x308d26);if(_0x308d26[0x0][_0xfe45f6(0xff)]==!![]){let _0x2fbb76=decodeURIComponent(CryptoJS['AES']['decrypt'](_0x308d26[0x0][_0xfe45f6(0x11c)],CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)][_0xfe45f6(0x109)],'padding':CryptoJS[_0xfe45f6(0x136)][_0xfe45f6(0x143)]})['toString'](CryptoJS['enc'][_0xfe45f6(0x114)])),_0x161eb2=decodeURIComponent(CryptoJS[_0xfe45f6(0x104)]['decrypt'](_0x308d26[0x0][_0xfe45f6(0x12e)],CryptoJS[_0xfe45f6(0x142)]['Utf8'][_0xfe45f6(0xfc)](cajaNegra2),{'iv':CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)][_0xfe45f6(0xfc)](iv),'mode':CryptoJS[_0xfe45f6(0x117)][_0xfe45f6(0x109)],'padding':CryptoJS['pad'][_0xfe45f6(0x143)]})[_0xfe45f6(0x123)](CryptoJS[_0xfe45f6(0x142)][_0xfe45f6(0x114)]));if(_0x2fbb76===_0xb2790a&&_0x161eb2===_0x375bde){localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x108),'true');let _0x3ddf72=_0xfe45f6(0x125);datos={'cedula':_0x308d26[0x0][_0xfe45f6(0x11c)],'contrasenia':_0x308d26[0x0][_0xfe45f6(0x12e)],'usuario':_0x3ddf72,'token':_0x308d26[0x1]};const _0x5be3cf=JSON[_0xfe45f6(0x118)](datos);return localStorage['setItem']('datos',_0x5be3cf),console[_0xfe45f6(0x13e)](_0x5be3cf),localStorage[_0xfe45f6(0x141)](_0xfe45f6(0x130),servidorAPI),location['href']=_0xfe45f6(0x11b),_0x43170a=!![],_0xb2790a;}}}}!_0x4b5dd9&&!_0x43170a&&!_0x4e252a&&($(_0xfe45f6(0x100))['modal'](_0xfe45f6(0x11a)),crearAdmin(),document[_0xfe45f6(0x103)]('log-in')[_0xfe45f6(0x128)]=![]);},logout=()=>{const _0x56ffd0=_0x2c5433;localStorage[_0x56ffd0(0x12c)](_0x56ffd0(0x108)),localStorage['removeItem'](_0x56ffd0(0x130)),localStorage[_0x56ffd0(0x12c)](_0x56ffd0(0x121)),localStorage[_0x56ffd0(0x12c)]('cedulaPaciente'),localStorage['removeItem'](_0x56ffd0(0x13c)),localStorage['removeItem']('documento'),localStorage[_0x56ffd0(0x12c)](_0x56ffd0(0xfd)),localStorage['clear'](),location[_0x56ffd0(0x124)]='login.html';},onload=async()=>{const _0x404378=_0x2c5433;let _0x333363=window[_0x404378(0x122)]['pathname'];await obtenerClave(),await obtenerIv();if(isAuthenticated()){let _0x5c834b=localStorage[_0x404378(0x111)](_0x404378(0x121)),_0x11de99=JSON[_0x404378(0xfc)](_0x5c834b);console['log'](_0x5c834b);const _0x58eda5=await fetch(servidorAPI+'Usuario/tokenValido',{'method':_0x404378(0x13a),'headers':{'Accept':_0x404378(0x10b),'Content-Type':_0x404378(0x10b),'Authorization':_0x11de99['token']}});console['log'](_0x58eda5[_0x404378(0x112)]);(_0x58eda5[_0x404378(0x112)]===0x191||_0x58eda5[_0x404378(0x112)]===0x193)&&(console['log']('token\x20expirado'),logout());let _0x3a76f2=_0x11de99['usuario'];(_0x333363['includes'](_0x404378(0x127))||_0x333363['includes'](_0x404378(0x11f)))&&(_0x3a76f2==_0x404378(0x125)?location[_0x404378(0x124)]='pacientes.html':_0x3a76f2==_0x404378(0x119)?location[_0x404378(0x124)]=_0x404378(0x106):localStorage[_0x404378(0x111)]('cambiado')==_0x404378(0x115)?location[_0x404378(0x124)]=_0x404378(0x10a):location[_0x404378(0x124)]=_0x404378(0x110));}else console[_0x404378(0x13e)]('noAuthenticated'),!_0x333363[_0x404378(0x120)](_0x404378(0x127))&&(location[_0x404378(0x124)]=_0x404378(0x127));};function _0x30a4(){const _0x365f4e=['1340918QvqmXC','Utf8','true','username','mode','stringify','administrador','show','pacientes.html','cedula','classList','type','index.html','includes','datos','location','toString','href','medico','http://localhost:8104/','login.html','disabled','7728408thZSAQ','fa-eye-slash','encrypt','removeItem','511HcKUrh','contrasenia','POST','servidorAPI','preventDefault','Usuario/ivFrontend','paciente','4rDTZPa','follow','pad','remove','decrypt','fa-eye','GET','json','url','querySelector','log','2629698JuDKqP','Usuario/findAdmin','setItem','enc','Pkcs7','1334060yqifEB','parse','cedulaPacienteEditar','add','activo','#errorDatosModal','2023449bQWoGn','paciente/findPacienteByCedula/true','getElementById','AES','cambioContrasenia','administrador.html','text','authenticated','CBC','principal.html','application/json','57752LBAZMX','error','password','290393EnyAxn','cambiarContrasenia.html','getItem','status'];_0x30a4=function(){return _0x365f4e;};return _0x30a4();}function passwordVisibility(){const _0x3b9812=_0x2c5433;var _0x3381b5=document['getElementById'](_0x3b9812(0x10e)),_0x3e58bd=document[_0x3b9812(0x13d)]('.toggle-password');_0x3381b5[_0x3b9812(0x11e)]===_0x3b9812(0x10e)?(_0x3381b5[_0x3b9812(0x11e)]=_0x3b9812(0x107),_0x3e58bd[_0x3b9812(0x11d)][_0x3b9812(0x137)]('fa-eye'),_0x3e58bd[_0x3b9812(0x11d)][_0x3b9812(0xfe)]('fa-eye-slash')):(_0x3381b5[_0x3b9812(0x11e)]=_0x3b9812(0x10e),_0x3e58bd[_0x3b9812(0x11d)][_0x3b9812(0x137)](_0x3b9812(0x12a)),_0x3e58bd[_0x3b9812(0x11d)][_0x3b9812(0xfe)](_0x3b9812(0x139)));}