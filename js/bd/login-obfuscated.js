const _0x255758=_0xde51;function _0xde51(_0x2f50aa,_0x5659cc){const _0x3dd4c9=_0x3dd4();return _0xde51=function(_0xde516d,_0x54681d){_0xde516d=_0xde516d-0xf3;let _0xfa68e0=_0x3dd4c9[_0xde516d];return _0xfa68e0;},_0xde51(_0x2f50aa,_0x5659cc);}function _0x3dd4(){const _0x300232=['contrasenia','enc','username','9708246dUxmyt','add','preventDefault','10267888MxsOAf','index.html','activo','bs72/=a12dx=o=pl','includes','stringify','application/json','servidorAPI','572720ZjlVJY','AES','pacientes.html','fa-eye','type','classList','querySelector','location','clave_secreta','5621273RFbOST','noAuthenticated','12OQuSZn','text','log','login.html','Pkcs7','json','administrador.html','documento','status','removeItem','parse','pathname','Usuario/findAllPacientes','encrypt','show','cedula','POST','datos','3763196mHZBGX','.toggle-password','vfjdnjefh37/ps=3','pad','principal.html','password','setItem','modal','log-in','decrypt','url','value','1zGWYTs','true','816984rCbVqg','cedulaPacienteEditar','CBC','authenticated','GET','getItem','toString','1146626YDbOcK','getElementById','remove','disabled','Usuario/findMedicoByCedula/true','Utf8','fa-eye-slash','administrador','mode','cambiado','href','clear'];_0x3dd4=function(){return _0x300232;};return _0x3dd4();}(function(_0x110143,_0x3a20e8){const _0x25e42f=_0xde51,_0x5a924a=_0x110143();while(!![]){try{const _0x10f5a0=-parseInt(_0x25e42f(0xf6))/0x1*(-parseInt(_0x25e42f(0xff))/0x2)+-parseInt(_0x25e42f(0xf8))/0x3+-parseInt(_0x25e42f(0x136))/0x4+-parseInt(_0x25e42f(0x119))/0x5*(parseInt(_0x25e42f(0x124))/0x6)+-parseInt(_0x25e42f(0x122))/0x7+parseInt(_0x25e42f(0x111))/0x8+parseInt(_0x25e42f(0x10e))/0x9;if(_0x10f5a0===_0x3a20e8)break;else _0x5a924a['push'](_0x5a924a['shift']());}catch(_0x1f0c67){_0x5a924a['push'](_0x5a924a['shift']());}}}(_0x3dd4,0xa883f));let servidorAPI='http://localhost:8104/',iv='vuens_soha=6jh36',iv2=_0x255758(0x114),cajaNegra2=_0x255758(0x138),cajaNegra=_0x255758(0x121),backend='y362_02j=27w/=42';function isAuthenticated(){const _0x4284=_0x255758;return localStorage[_0x4284(0xfd)](_0x4284(0xfb))==='true';}let login=async _0x4ec337=>{const _0x5ab497=_0x255758;let _0x21b38e=![];_0x4ec337[_0x5ab497(0x110)]();const _0xd6d9cf=document[_0x5ab497(0x100)](_0x5ab497(0x10d))[_0x5ab497(0xf5)],_0x122f23=document[_0x5ab497(0x100)](_0x5ab497(0x13b))[_0x5ab497(0xf5)];let _0x42e272=CryptoJS[_0x5ab497(0x11a)][_0x5ab497(0x131)](CryptoJS['enc'][_0x5ab497(0x104)][_0x5ab497(0x12e)](encodeURIComponent(_0xd6d9cf)),CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)][_0x5ab497(0x12e)](cajaNegra2),{'iv':CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)][_0x5ab497(0x12e)](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS[_0x5ab497(0x139)]['Pkcs7']})['toString'](),_0x3aca2e=CryptoJS['AES'][_0x5ab497(0x131)](CryptoJS['enc'][_0x5ab497(0x104)][_0x5ab497(0x12e)](encodeURIComponent(_0x122f23)),CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)][_0x5ab497(0x12e)](cajaNegra2),{'iv':CryptoJS[_0x5ab497(0x10c)]['Utf8'][_0x5ab497(0x12e)](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS[_0x5ab497(0x139)]['Pkcs7']})['toString'](),_0x29792b={'cedula':_0x42e272,'contrasenia':_0x3aca2e};console[_0x5ab497(0x126)](_0x29792b);const _0x826615=await fetch(servidorAPI+'Usuario/findAdmin',{'method':_0x5ab497(0x134),'body':JSON[_0x5ab497(0x116)](_0x29792b),'headers':{'Accept':'application/json','Content-Type':'application/json'}});if(_0x826615[_0x5ab497(0x12c)]!=0xcc){const _0x5b8c43=await _0x826615['json']();console[_0x5ab497(0x126)](_0x5b8c43);let _0x3a7b8d=decodeURIComponent(CryptoJS[_0x5ab497(0x11a)][_0x5ab497(0xf3)](_0x5b8c43[0x0][_0x5ab497(0x133)],CryptoJS[_0x5ab497(0x10c)]['Utf8']['parse'](cajaNegra2),{'iv':CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]['parse'](iv),'mode':CryptoJS[_0x5ab497(0x107)]['CBC'],'padding':CryptoJS[_0x5ab497(0x139)]['Pkcs7']})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)])),_0x42f37b=decodeURIComponent(CryptoJS['AES']['decrypt'](_0x5b8c43[0x0]['contrasenia'],CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x5ab497(0x10c)]['Utf8']['parse'](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS[_0x5ab497(0x139)][_0x5ab497(0x128)]})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]));if(_0x3a7b8d===_0xd6d9cf&&_0x42f37b===_0x122f23){localStorage[_0x5ab497(0x13c)]('authenticated',_0x5ab497(0xf7));let _0x29993c=_0x5ab497(0x106);datos={'cedula':_0x5b8c43[0x0]['cedula'],'usuario':_0x29993c,'token':_0x5b8c43[0x1]};const _0x5ecf7d=JSON[_0x5ab497(0x116)](datos);localStorage[_0x5ab497(0x13c)](_0x5ab497(0x135),_0x5ecf7d),localStorage['setItem']('servidorAPI',servidorAPI),location['href']=_0x5ab497(0x12a),_0x21b38e=!![];return;}}if(_0x21b38e==!![])return;const _0x32ad22=await fetch(servidorAPI+'paciente/findPacienteByCedula/true',{'method':_0x5ab497(0x134),'body':JSON[_0x5ab497(0x116)](_0x29792b),'headers':{'Accept':_0x5ab497(0x117),'Content-Type':'application/json'}});let _0x3e65b2=![],_0x2996f2=![];console['log'](_0x32ad22['status']);if(_0x32ad22['status']!==0xcc){const _0xf9a782=await _0x32ad22[_0x5ab497(0x129)]();console[_0x5ab497(0x126)](_0xf9a782);if(_0xf9a782[0x0][_0x5ab497(0x113)]==!![]){let _0x4a3f15=decodeURIComponent(CryptoJS[_0x5ab497(0x11a)]['decrypt'](_0xf9a782[0x0]['cedula'],CryptoJS[_0x5ab497(0x10c)]['Utf8'][_0x5ab497(0x12e)](cajaNegra2),{'iv':CryptoJS['enc']['Utf8']['parse'](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS[_0x5ab497(0x139)][_0x5ab497(0x128)]})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)])),_0x41f68d=decodeURIComponent(CryptoJS[_0x5ab497(0x11a)]['decrypt'](_0xf9a782[0x0]['contrasenia'],CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]['parse'](cajaNegra2),{'iv':CryptoJS['enc'][_0x5ab497(0x104)]['parse'](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS[_0x5ab497(0x139)][_0x5ab497(0x128)]})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]));if(_0x4a3f15===_0xd6d9cf&&_0x41f68d===_0x122f23){localStorage[_0x5ab497(0x13c)]('authenticated',_0x5ab497(0xf7));let _0x579b29='paciente';datos={'cedula':_0xf9a782[0x0][_0x5ab497(0x133)],'usuario':_0x579b29,'token':_0xf9a782[0x1]};const _0x1fdbdb=JSON[_0x5ab497(0x116)](datos);localStorage[_0x5ab497(0x13c)](_0x5ab497(0x135),_0x1fdbdb),localStorage[_0x5ab497(0x13c)](_0x5ab497(0x118),servidorAPI),console[_0x5ab497(0x126)](localStorage[_0x5ab497(0x13c)](_0x5ab497(0x135),_0x1fdbdb));let _0x3b86b1=_0xf9a782[0x0]['cambioContrasenia'];return localStorage[_0x5ab497(0x13c)]('cambiado',_0x3b86b1),console[_0x5ab497(0x126)](_0x3b86b1),!_0x3b86b1?(location['href']='cambiarContrasenia.html',_0x3e65b2=!![],_0x3b86b1):(location[_0x5ab497(0x109)]=_0x5ab497(0x13a),_0x3e65b2=!![],_0x3b86b1);}}};if(!_0x3e65b2){const _0x1924fb=await fetch(servidorAPI+_0x5ab497(0x103),{'method':_0x5ab497(0x134),'body':JSON[_0x5ab497(0x116)](_0x29792b),'headers':{'Accept':'application/json','Content-Type':_0x5ab497(0x117)}});console['log'](_0x1924fb[_0x5ab497(0x12c)]);if(_0x1924fb[_0x5ab497(0x12c)]!=0xcc){const _0x301e0f=await _0x1924fb[_0x5ab497(0x129)]();console[_0x5ab497(0x126)](_0x301e0f);if(_0x301e0f[0x0][_0x5ab497(0x113)]==!![]){let _0x4b6ff6=decodeURIComponent(CryptoJS[_0x5ab497(0x11a)][_0x5ab497(0xf3)](_0x301e0f[0x0][_0x5ab497(0x133)],CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)]['parse'](cajaNegra2),{'iv':CryptoJS['enc'][_0x5ab497(0x104)][_0x5ab497(0x12e)](iv),'mode':CryptoJS['mode']['CBC'],'padding':CryptoJS['pad'][_0x5ab497(0x128)]})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)])),_0x5a38a3=decodeURIComponent(CryptoJS[_0x5ab497(0x11a)][_0x5ab497(0xf3)](_0x301e0f[0x0][_0x5ab497(0x10b)],CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)][_0x5ab497(0x12e)](cajaNegra2),{'iv':CryptoJS[_0x5ab497(0x10c)][_0x5ab497(0x104)][_0x5ab497(0x12e)](iv),'mode':CryptoJS[_0x5ab497(0x107)][_0x5ab497(0xfa)],'padding':CryptoJS['pad'][_0x5ab497(0x128)]})[_0x5ab497(0xfe)](CryptoJS[_0x5ab497(0x10c)]['Utf8']));if(_0x4b6ff6===_0xd6d9cf&&_0x5a38a3===_0x122f23){localStorage['setItem'](_0x5ab497(0xfb),'true');let _0x56abc4='medico';datos={'cedula':_0x301e0f[0x0][_0x5ab497(0x133)],'usuario':_0x56abc4,'token':_0x301e0f[0x1]};const _0x1f82ea=JSON['stringify'](datos);return localStorage[_0x5ab497(0x13c)]('datos',_0x1f82ea),console[_0x5ab497(0x126)](_0x1f82ea),localStorage[_0x5ab497(0x13c)](_0x5ab497(0x118),servidorAPI),location['href']=_0x5ab497(0x11b),_0x2996f2=!![],_0xd6d9cf;}}}}!_0x3e65b2&&!_0x2996f2&&!_0x21b38e&&($('#errorDatosModal')[_0x5ab497(0x13d)](_0x5ab497(0x132)),crearAdmin(),document[_0x5ab497(0x100)](_0x5ab497(0x13e))[_0x5ab497(0x102)]=![]);},logout=()=>{const _0x573321=_0x255758;localStorage[_0x573321(0x12d)](_0x573321(0xfb)),localStorage[_0x573321(0x12d)](_0x573321(0x118)),localStorage[_0x573321(0x12d)](_0x573321(0x135)),localStorage[_0x573321(0x12d)]('cedulaPaciente'),localStorage[_0x573321(0x12d)](_0x573321(0xf4)),localStorage[_0x573321(0x12d)](_0x573321(0x12b)),localStorage[_0x573321(0x12d)](_0x573321(0xf9)),localStorage[_0x573321(0x10a)](),location[_0x573321(0x109)]='login.html';},onload=async()=>{const _0x4174db=_0x255758;let _0x5205bc=window[_0x4174db(0x120)][_0x4174db(0x12f)];if(isAuthenticated()){const _0x258dd8=await fetch(servidorAPI+_0x4174db(0x130),{'method':_0x4174db(0xfc),'headers':{'Accept':'application/json','Content-Type':_0x4174db(0x117),'Authorization':'Bearer\x20eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlc3Bpbm96YWpnZUpXVCIsInN1YiI6IkYrMWJkdGM5L01sUUtpakRVdGNmOEE9PSIsImF1dGhvcml0aWVzIjpbIlJPTEVfVVNFUiJdLCJpYXQiOjE3MDY5NzY3MzEsImV4cCI6MTcwNzg0MDczMX0.CjLjedyrCCBaO7eVetXtyZ1BLPPnxuR2IMCXpwqitIzf8jd8OQYmBIYbL3Jel0mpVcZC_LhfiOsFnUdYKwgmQA'}});console[_0x4174db(0x126)](_0x258dd8[_0x4174db(0x12c)]);(_0x258dd8['status']===0x191||_0x258dd8[_0x4174db(0x12c)]===0x193)&&(console[_0x4174db(0x126)]('token\x20expirado'),logout());let _0x4875ff=localStorage[_0x4174db(0xfd)](_0x4174db(0x135)),_0x573bf0=JSON[_0x4174db(0x12e)](_0x4875ff);console[_0x4174db(0x126)](_0x4875ff);let _0x3eff5a=_0x573bf0['usuario'];(_0x5205bc[_0x4174db(0x115)]('login.html')||_0x5205bc['includes'](_0x4174db(0x112)))&&(_0x3eff5a=='medico'?location[_0x4174db(0x109)]=_0x4174db(0x11b):_0x3eff5a==_0x4174db(0x106)?location[_0x4174db(0x109)]=_0x4174db(0x12a):localStorage['getItem'](_0x4174db(0x108))==_0x4174db(0xf7)?location[_0x4174db(0x109)]=_0x4174db(0x13a):location[_0x4174db(0x109)]='cambiarContrasenia.html');}else console[_0x4174db(0x126)](_0x4174db(0x123)),!_0x5205bc['includes'](_0x4174db(0x127))&&(location[_0x4174db(0x109)]=_0x4174db(0x127));};function passwordVisibility(){const _0x265d89=_0x255758;var _0x5d73a4=document['getElementById'](_0x265d89(0x13b)),_0x4afe07=document[_0x265d89(0x11f)](_0x265d89(0x137));_0x5d73a4[_0x265d89(0x11d)]===_0x265d89(0x13b)?(_0x5d73a4['type']=_0x265d89(0x125),_0x4afe07[_0x265d89(0x11e)][_0x265d89(0x101)](_0x265d89(0x11c)),_0x4afe07[_0x265d89(0x11e)][_0x265d89(0x10f)]('fa-eye-slash')):(_0x5d73a4[_0x265d89(0x11d)]=_0x265d89(0x13b),_0x4afe07['classList'][_0x265d89(0x101)](_0x265d89(0x105)),_0x4afe07[_0x265d89(0x11e)][_0x265d89(0x10f)](_0x265d89(0x11c)));}