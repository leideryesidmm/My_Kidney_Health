const _0x220083=_0x5c8c;function _0x5c8c(_0x14c91a,_0x20737e){const _0xc9eb21=_0xc9eb();return _0x5c8c=function(_0x5c8c8e,_0x30e5cc){_0x5c8c8e=_0x5c8c8e-0x126;let _0x2ec403=_0xc9eb21[_0x5c8c8e];return _0x2ec403;},_0x5c8c(_0x14c91a,_0x20737e);}(function(_0x60e451,_0x52821f){const _0x5af569=_0x5c8c,_0x65c055=_0x60e451();while(!![]){try{const _0x18ce5b=-parseInt(_0x5af569(0x168))/0x1*(-parseInt(_0x5af569(0x12e))/0x2)+-parseInt(_0x5af569(0x166))/0x3*(-parseInt(_0x5af569(0x158))/0x4)+-parseInt(_0x5af569(0x13b))/0x5+parseInt(_0x5af569(0x126))/0x6*(parseInt(_0x5af569(0x16c))/0x7)+-parseInt(_0x5af569(0x16d))/0x8+-parseInt(_0x5af569(0x14c))/0x9+parseInt(_0x5af569(0x156))/0xa*(parseInt(_0x5af569(0x17a))/0xb);if(_0x18ce5b===_0x52821f)break;else _0x65c055['push'](_0x65c055['shift']());}catch(_0x196537){_0x65c055['push'](_0x65c055['shift']());}}}(_0xc9eb,0x91af8));const vaultSecretsPath='secret/data/my-app',vaultUrl='http://localhost:8200',vaultToken=_0x220083(0x160),apiUrl=vaultUrl+'/v1/'+vaultSecretsPath,requestOptions={'method':'GET','headers':{'X-Vault-Token':vaultToken,'Origin':_0x220083(0x16b)},'mode':_0x220083(0x150),'cache':_0x220083(0x152)};console['log'](apiUrl),fetch(apiUrl,requestOptions)[_0x220083(0x17f)](_0x217c07=>_0x217c07[_0x220083(0x178)]())[_0x220083(0x17f)](_0x40f418=>{const _0xd0f929=_0x220083;console['log'](_0xd0f929(0x17d),_0x40f418[_0xd0f929(0x15a)]);})['catch'](_0x284002=>{const _0x4e1e25=_0x220083;console[_0x4e1e25(0x170)]('Error\x20al\x20obtener\x20secretos\x20de\x20Vault:',_0x284002);});function _0xc9eb(){const _0x4f231d=['add','decrypt','disabled','parse','login.html','2rsRwij','mode','principal.html','getItem','cambiarContrasenia.html','modal','cedula','enc','noAuthenticated','removeItem','servidorAPI','pathname','fa-eye-slash','2031250aCnTzf','datos','encrypt','log-in','medico','cedulaPacienteEditar','cambiado','pad','contrasenia','AES','Utf8','Usuario/tokenValido','application/json','pacientes.html','administrador.html','#errorDatosModal','.toggle-password','3861531HtLwhm','administrador','Usuario/findMedicoByCedula/true','stringify','cors','log','no-cache','setItem','querySelector','cambioContrasenia','187050AAFlyM','toString','48160AOslKv','preventDefault','data','classList','token','vuens_soha=6jh36','value','http://localhost:8104/','06210776-2730-2903-3721-546203818393','index.html','includes','authenticated','true','status','201aRkGSY','type','21702pNVECp','getElementById','CBC','http://localhost:8103','2017253nCLaOR','8072656OnPLJr','href','paciente/findPacienteByCedula/true','error','Pkcs7','text','POST','GET','vfjdnjefh37/ps=3','location','password','json','fa-eye','440lkSZOa','url','remove','Secretos\x20de\x20Vault:','username','then','18ZIKqaI','documento','usuario'];_0xc9eb=function(){return _0x4f231d;};return _0xc9eb();}let servidorAPI=_0x220083(0x15f),iv=_0x220083(0x15d),cajaNegra2=_0x220083(0x175);function isAuthenticated(){const _0x4f6292=_0x220083;return localStorage[_0x4f6292(0x131)]('authenticated')===_0x4f6292(0x164);}let login=async _0x2a8807=>{const _0x125824=_0x220083;let _0x4539c1=![];_0x2a8807[_0x125824(0x159)]();const _0x203143=document[_0x125824(0x169)](_0x125824(0x17e))[_0x125824(0x15e)],_0x16d482=document[_0x125824(0x169)](_0x125824(0x177))[_0x125824(0x15e)];let _0x32706a=CryptoJS['AES'][_0x125824(0x13d)](CryptoJS[_0x125824(0x135)]['Utf8']['parse'](encodeURIComponent(_0x203143)),CryptoJS[_0x125824(0x135)]['Utf8'][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)]['Pkcs7']})['toString'](),_0x254705=CryptoJS['AES'][_0x125824(0x13d)](CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](encodeURIComponent(_0x16d482)),CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)]['CBC'],'padding':CryptoJS['pad'][_0x125824(0x171)]})[_0x125824(0x157)](),_0x2ddbc5={'cedula':_0x32706a,'contrasenia':_0x254705};console[_0x125824(0x151)](_0x2ddbc5);const _0x18e279=await fetch(servidorAPI+'Usuario/findAdmin',{'method':_0x125824(0x173),'body':JSON[_0x125824(0x14f)](_0x2ddbc5),'headers':{'Accept':_0x125824(0x147),'Content-Type':'application/json'}});if(_0x18e279[_0x125824(0x165)]!=0xcc){const _0x4031a3=await _0x18e279[_0x125824(0x178)]();console[_0x125824(0x151)](_0x4031a3);let _0xb88ff4=decodeURIComponent(CryptoJS[_0x125824(0x144)]['decrypt'](_0x4031a3[0x0][_0x125824(0x134)],CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)][_0x125824(0x171)]})[_0x125824(0x157)](CryptoJS[_0x125824(0x135)][_0x125824(0x145)])),_0x373f49=decodeURIComponent(CryptoJS[_0x125824(0x144)]['decrypt'](_0x4031a3[0x0]['contrasenia'],CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS['enc'][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)]['CBC'],'padding':CryptoJS[_0x125824(0x142)][_0x125824(0x171)]})[_0x125824(0x157)](CryptoJS[_0x125824(0x135)]['Utf8']));if(_0xb88ff4===_0x203143&&_0x373f49===_0x16d482){localStorage[_0x125824(0x153)](_0x125824(0x163),_0x125824(0x164));let _0x4901b9=_0x125824(0x14d);datos={'cedula':_0x4031a3[0x0][_0x125824(0x134)],'contrasenia':_0x4031a3[0x0][_0x125824(0x143)],'usuario':_0x4901b9,'token':_0x4031a3[0x1]};const _0x36baca=JSON['stringify'](datos);localStorage[_0x125824(0x153)](_0x125824(0x13c),_0x36baca),localStorage[_0x125824(0x153)](_0x125824(0x138),servidorAPI),location[_0x125824(0x16e)]=_0x125824(0x149),_0x4539c1=!![];return;}}if(_0x4539c1==!![])return;const _0x410c57=await fetch(servidorAPI+_0x125824(0x16f),{'method':_0x125824(0x173),'body':JSON[_0x125824(0x14f)](_0x2ddbc5),'headers':{'Accept':_0x125824(0x147),'Content-Type':_0x125824(0x147)}});let _0x136743=![],_0x34a73e=![];console[_0x125824(0x151)](_0x410c57[_0x125824(0x165)]);if(_0x410c57[_0x125824(0x165)]!==0xcc){const _0x1e1b50=await _0x410c57[_0x125824(0x178)]();console['log'](_0x1e1b50);if(_0x1e1b50[0x0]['activo']==!![]){let _0x3cb657=decodeURIComponent(CryptoJS[_0x125824(0x144)][_0x125824(0x12a)](_0x1e1b50[0x0][_0x125824(0x134)],CryptoJS['enc'][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS['enc']['Utf8'][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)][_0x125824(0x171)]})[_0x125824(0x157)](CryptoJS['enc'][_0x125824(0x145)])),_0x14ab14=decodeURIComponent(CryptoJS[_0x125824(0x144)][_0x125824(0x12a)](_0x1e1b50[0x0]['contrasenia'],CryptoJS['enc'][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)][_0x125824(0x171)]})[_0x125824(0x157)](CryptoJS[_0x125824(0x135)][_0x125824(0x145)]));if(_0x3cb657===_0x203143&&_0x14ab14===_0x16d482){localStorage[_0x125824(0x153)](_0x125824(0x163),'true');let _0x49b88a='paciente';datos={'cedula':_0x1e1b50[0x0]['cedula'],'contrasenia':_0x1e1b50[0x0]['contrasenia'],'usuario':_0x49b88a,'token':_0x1e1b50[0x1]};const _0x35f92f=JSON[_0x125824(0x14f)](datos);localStorage[_0x125824(0x153)](_0x125824(0x13c),_0x35f92f),localStorage[_0x125824(0x153)](_0x125824(0x138),servidorAPI),console[_0x125824(0x151)](localStorage[_0x125824(0x153)]('datos',_0x35f92f));let _0x1914ac=_0x1e1b50[0x0][_0x125824(0x155)];return localStorage['setItem']('cambiado',_0x1914ac),console[_0x125824(0x151)](_0x1914ac),!_0x1914ac?(location[_0x125824(0x16e)]=_0x125824(0x132),_0x136743=!![],_0x1914ac):(location[_0x125824(0x16e)]=_0x125824(0x130),_0x136743=!![],_0x1914ac);}}};if(!_0x136743){const _0x1d9a88=await fetch(servidorAPI+_0x125824(0x14e),{'method':_0x125824(0x173),'body':JSON[_0x125824(0x14f)](_0x2ddbc5),'headers':{'Accept':_0x125824(0x147),'Content-Type':_0x125824(0x147)}});console['log'](_0x1d9a88['status']);if(_0x1d9a88['status']!=0xcc){const _0x1e456d=await _0x1d9a88[_0x125824(0x178)]();console[_0x125824(0x151)](_0x1e456d);if(_0x1e456d[0x0]['activo']==!![]){let _0xacc0cd=decodeURIComponent(CryptoJS[_0x125824(0x144)][_0x125824(0x12a)](_0x1e456d[0x0]['cedula'],CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS[_0x125824(0x135)]['Utf8'][_0x125824(0x12c)](iv),'mode':CryptoJS['mode'][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)][_0x125824(0x171)]})[_0x125824(0x157)](CryptoJS[_0x125824(0x135)][_0x125824(0x145)])),_0x1c972e=decodeURIComponent(CryptoJS[_0x125824(0x144)][_0x125824(0x12a)](_0x1e456d[0x0]['contrasenia'],CryptoJS[_0x125824(0x135)][_0x125824(0x145)][_0x125824(0x12c)](cajaNegra2),{'iv':CryptoJS['enc'][_0x125824(0x145)][_0x125824(0x12c)](iv),'mode':CryptoJS[_0x125824(0x12f)][_0x125824(0x16a)],'padding':CryptoJS[_0x125824(0x142)]['Pkcs7']})[_0x125824(0x157)](CryptoJS[_0x125824(0x135)]['Utf8']));if(_0xacc0cd===_0x203143&&_0x1c972e===_0x16d482){localStorage[_0x125824(0x153)](_0x125824(0x163),'true');let _0x137ad8=_0x125824(0x13f);datos={'cedula':_0x1e456d[0x0][_0x125824(0x134)],'contrasenia':_0x1e456d[0x0]['contrasenia'],'usuario':_0x137ad8,'token':_0x1e456d[0x1]};const _0x2b2ad4=JSON[_0x125824(0x14f)](datos);return localStorage[_0x125824(0x153)](_0x125824(0x13c),_0x2b2ad4),console[_0x125824(0x151)](_0x2b2ad4),localStorage[_0x125824(0x153)](_0x125824(0x138),servidorAPI),location[_0x125824(0x16e)]=_0x125824(0x148),_0x34a73e=!![],_0x203143;}}}}!_0x136743&&!_0x34a73e&&!_0x4539c1&&($(_0x125824(0x14a))[_0x125824(0x133)]('show'),crearAdmin(),document[_0x125824(0x169)](_0x125824(0x13e))[_0x125824(0x12b)]=![]);},logout=()=>{const _0x641f56=_0x220083;localStorage[_0x641f56(0x137)](_0x641f56(0x163)),localStorage[_0x641f56(0x137)]('servidorAPI'),localStorage['removeItem'](_0x641f56(0x13c)),localStorage['removeItem']('cedulaPaciente'),localStorage[_0x641f56(0x137)](_0x641f56(0x17b)),localStorage[_0x641f56(0x137)](_0x641f56(0x127)),localStorage[_0x641f56(0x137)](_0x641f56(0x140)),localStorage['clear'](),location['href']=_0x641f56(0x12d);},onload=async()=>{const _0x30ae2e=_0x220083;let _0xa69f16=window[_0x30ae2e(0x176)][_0x30ae2e(0x139)];if(isAuthenticated()){let _0x2cfe2b=localStorage[_0x30ae2e(0x131)]('datos'),_0x329a78=JSON[_0x30ae2e(0x12c)](_0x2cfe2b);console[_0x30ae2e(0x151)](_0x2cfe2b);const _0x23a468=await fetch(servidorAPI+_0x30ae2e(0x146),{'method':_0x30ae2e(0x174),'headers':{'Accept':_0x30ae2e(0x147),'Content-Type':_0x30ae2e(0x147),'Authorization':_0x329a78[_0x30ae2e(0x15c)]}});console['log'](_0x23a468['status']);(_0x23a468[_0x30ae2e(0x165)]===0x191||_0x23a468[_0x30ae2e(0x165)]===0x193)&&(console['log']('token\x20expirado'),logout());let _0x4be176=_0x329a78[_0x30ae2e(0x128)];(_0xa69f16['includes'](_0x30ae2e(0x12d))||_0xa69f16[_0x30ae2e(0x162)](_0x30ae2e(0x161)))&&(_0x4be176==_0x30ae2e(0x13f)?location[_0x30ae2e(0x16e)]=_0x30ae2e(0x148):_0x4be176==_0x30ae2e(0x14d)?location['href']='administrador.html':localStorage[_0x30ae2e(0x131)](_0x30ae2e(0x141))=='true'?location[_0x30ae2e(0x16e)]='principal.html':location['href']=_0x30ae2e(0x132));}else console[_0x30ae2e(0x151)](_0x30ae2e(0x136)),!_0xa69f16[_0x30ae2e(0x162)]('login.html')&&(location[_0x30ae2e(0x16e)]='login.html');};function passwordVisibility(){const _0x47206e=_0x220083;var _0x57582b=document[_0x47206e(0x169)]('password'),_0x571a0a=document[_0x47206e(0x154)](_0x47206e(0x14b));_0x57582b[_0x47206e(0x167)]===_0x47206e(0x177)?(_0x57582b[_0x47206e(0x167)]=_0x47206e(0x172),_0x571a0a[_0x47206e(0x15b)][_0x47206e(0x17c)](_0x47206e(0x179)),_0x571a0a[_0x47206e(0x15b)][_0x47206e(0x129)]('fa-eye-slash')):(_0x57582b[_0x47206e(0x167)]=_0x47206e(0x177),_0x571a0a[_0x47206e(0x15b)]['remove'](_0x47206e(0x13a)),_0x571a0a[_0x47206e(0x15b)][_0x47206e(0x129)]('fa-eye'));}