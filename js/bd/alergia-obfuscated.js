(function(_0x294ad5,_0x3d89a3){const _0x17971b=_0x3609,_0x467bfc=_0x294ad5();while(!![]){try{const _0x593674=parseInt(_0x17971b(0xe6))/0x1+-parseInt(_0x17971b(0x122))/0x2*(-parseInt(_0x17971b(0x121))/0x3)+parseInt(_0x17971b(0xf9))/0x4*(-parseInt(_0x17971b(0xf0))/0x5)+parseInt(_0x17971b(0xeb))/0x6+-parseInt(_0x17971b(0x131))/0x7*(parseInt(_0x17971b(0xed))/0x8)+-parseInt(_0x17971b(0xfb))/0x9+parseInt(_0x17971b(0x12f))/0xa*(parseInt(_0x17971b(0xe7))/0xb);if(_0x593674===_0x3d89a3)break;else _0x467bfc['push'](_0x467bfc['shift']());}catch(_0x456245){_0x467bfc['push'](_0x467bfc['shift']());}}}(_0x4ba9,0x64a2c));var cedulaEncriptada='';function passwordVisibilityActual(_0x8ce98e,_0x5aa827){const _0x1f4b1b=_0x3609;var _0x20003d=document['getElementById'](_0x8ce98e),_0x6d207f=document['querySelector']('.'+_0x5aa827);_0x20003d['type']===_0x1f4b1b(0x10e)?(_0x20003d[_0x1f4b1b(0x11e)]=_0x1f4b1b(0x126),_0x6d207f['classList'][_0x1f4b1b(0xf8)](_0x1f4b1b(0x11a)),_0x6d207f[_0x1f4b1b(0xfc)][_0x1f4b1b(0xf3)](_0x1f4b1b(0x133))):(_0x20003d[_0x1f4b1b(0x11e)]=_0x1f4b1b(0x10e),_0x6d207f[_0x1f4b1b(0xfc)][_0x1f4b1b(0xf8)](_0x1f4b1b(0x133)),_0x6d207f[_0x1f4b1b(0xfc)][_0x1f4b1b(0xf3)]('fa-eye'));}function _0x4ba9(){const _0x8941b2=['fa-eye-slash','DatosMedicos/alergia/inactivar','CBC','Error:','medico','status','guardarAlergia','editarAlergia','setItem','nombreEditar','387028ljoNQc','1491281WmvXRM','style','enc','show','2939952tvVZla','reload','8whVLqY','administrador','hide','1815xTYpYO','encrypt','disabeld','add','cedula','Utf8','newcontrasenia','PATCH','remove','2320XUihjr','log','4683906XPirVV','classList','modal','addEventListener','forEach','preventDefault','stringify','DatosMedicos/alergia/editar/','usuario','application/json','getElementById','gray','getItem','Pkcs7','#nuevacontrasenia','decrypt','contrasenia','#contraseniaerronea','AES','password','servidorAPI','catch','background','parse','cedulaPaciente','Usuario/cambiarContrasenia','click','datos','json','DatosMedicos/alergia/crear','nombre','fa-eye','#errorModal','Usuario/cedula','error','type','true','then','6zXSHZg','423758xFbHdk','push','mode','nombreCrear','text','usuario\x20de\x20backend','alergia','POST','value','token','pad','#contraseniacambiada','contraseniaanterior','10XeyxfL','#btnAceptar','2052197UuysOI','toString'];_0x4ba9=function(){return _0x8941b2;};return _0x4ba9();}function _0x3609(_0x575699,_0x13b1f9){const _0x4ba91a=_0x4ba9();return _0x3609=function(_0x36095b,_0x33e812){_0x36095b=_0x36095b-0xe0;let _0x5b8664=_0x4ba91a[_0x36095b];return _0x5b8664;},_0x3609(_0x575699,_0x13b1f9);}let paciente=async _0x41fae6=>{const _0x490139=_0x3609;let _0x563649=localStorage[_0x490139(0x107)]('datos'),_0x466333=JSON['parse'](_0x563649);usuario={'cedula':_0x41fae6};let _0x28b599=await fetch(localStorage['getItem'](_0x490139(0x10f))+_0x490139(0x11c),{'method':_0x490139(0x129),'headers':{'Accept':_0x490139(0x104),'Content-Type':'application/json','Authorization':_0x466333[_0x490139(0x12b)]},'body':JSON[_0x490139(0x101)](usuario)});if(_0x28b599[_0x490139(0xe1)]===0xc8){const _0x261268=await _0x28b599[_0x490139(0x117)]();return _0x261268;}else return null;},cambioContrasenia=async _0x2ba3f1=>{const _0xc265ba=_0x3609;_0x2ba3f1['preventDefault']();let _0x3729cb=localStorage[_0xc265ba(0x107)](_0xc265ba(0x116)),_0x3ad792=JSON['parse'](_0x3729cb);console[_0xc265ba(0xfa)](_0x3729cb);let _0x1c088d=_0x3ad792[_0xc265ba(0xf4)];console[_0xc265ba(0xfa)](_0x1c088d);const _0x407f38=await paciente(_0x1c088d);console[_0xc265ba(0xfa)](_0xc265ba(0x127)),console[_0xc265ba(0xfa)](_0x407f38);let _0x2e123c='';_0x407f38!=null&&(_0x2e123c=decodeURIComponent(CryptoJS['AES'][_0xc265ba(0x10a)](_0x407f38[_0xc265ba(0x10b)],CryptoJS[_0xc265ba(0xe9)][_0xc265ba(0xf5)][_0xc265ba(0x112)](cajaNegra2),{'iv':CryptoJS[_0xc265ba(0xe9)]['Utf8'][_0xc265ba(0x112)](iv),'mode':CryptoJS[_0xc265ba(0x124)][_0xc265ba(0x135)],'padding':CryptoJS[_0xc265ba(0x12c)][_0xc265ba(0x108)]})[_0xc265ba(0x132)](CryptoJS['enc'][_0xc265ba(0xf5)])));console[_0xc265ba(0xfa)]('contraseniaBD'),console['log'](_0x2e123c);const _0x4aec96=document[_0xc265ba(0x105)](_0xc265ba(0x12e))[_0xc265ba(0x12a)],_0x12e45b=document[_0xc265ba(0x105)](_0xc265ba(0xf6))[_0xc265ba(0x12a)];let _0x323076=CryptoJS['AES'][_0xc265ba(0xf1)](CryptoJS['enc'][_0xc265ba(0xf5)][_0xc265ba(0x112)](encodeURIComponent(_0x12e45b)),CryptoJS[_0xc265ba(0xe9)][_0xc265ba(0xf5)][_0xc265ba(0x112)](cajaNegra2),{'iv':CryptoJS[_0xc265ba(0xe9)][_0xc265ba(0xf5)]['parse'](iv),'mode':CryptoJS[_0xc265ba(0x124)][_0xc265ba(0x135)],'padding':CryptoJS[_0xc265ba(0x12c)][_0xc265ba(0x108)]})[_0xc265ba(0x132)]();if(_0x4aec96===_0x2e123c){let _0x3a445b={'cedula':_0x1c088d,'contrasenia':_0x323076};await fetch(localStorage[_0xc265ba(0x107)](_0xc265ba(0x10f))+_0xc265ba(0x114),{'method':'PATCH','headers':{'Accept':_0xc265ba(0x104),'Content-Type':_0xc265ba(0x104),'Authorization':_0x3ad792[_0xc265ba(0x12b)]},'body':JSON[_0xc265ba(0x101)](_0x3a445b)})['then'](_0x26132f=>{const _0xba2f3b=_0xc265ba;if(_0x26132f['ok']){_0x3ad792[_0xba2f3b(0x10b)]=_0x323076;const _0xf11d3b=JSON[_0xba2f3b(0x101)](_0x3ad792);localStorage[_0xba2f3b(0xe4)](_0xba2f3b(0x116),_0xf11d3b),$(_0xba2f3b(0x12d))[_0xba2f3b(0xfd)](_0xba2f3b(0xea)),document[_0xba2f3b(0x105)](_0xba2f3b(0x12e))[_0xba2f3b(0x12a)]='',document[_0xba2f3b(0x105)](_0xba2f3b(0xf6))[_0xba2f3b(0x12a)]='',$(_0xba2f3b(0x109))['modal']('hide');}else alert('Error\x20al\x20cambiar\x20la\x20contraseña');})[_0xc265ba(0x110)](_0x5dfec6=>{const _0x5d8cb0=_0xc265ba;console[_0x5d8cb0(0x11d)](_0x5d8cb0(0x136),_0x5dfec6),alert('Error\x20al\x20cambiar\x20la\x20contraseña');});}else $(_0xc265ba(0x10c))[_0xc265ba(0xfd)](_0xc265ba(0xea)),document[_0xc265ba(0x105)](_0xc265ba(0x12e))[_0xc265ba(0x12a)]='',document[_0xc265ba(0x105)](_0xc265ba(0xf6))['value']='',$(_0xc265ba(0x130))[_0xc265ba(0x115)](function(){const _0x50fbc6=_0xc265ba;$('#contraseniaerronea')[_0x50fbc6(0xfd)](_0x50fbc6(0xef));});},crearAlergia=async()=>{const _0x396d3b=_0x3609;document[_0x396d3b(0x105)](_0x396d3b(0xe2))[_0x396d3b(0xfe)]('click',async function(_0x768573){const _0x43a4f0=_0x396d3b;_0x768573[_0x43a4f0(0x100)]();const _0x1ce04f=document['getElementById'](_0x43a4f0(0xe2));_0x1ce04f[_0x43a4f0(0xe8)]['background']=_0x43a4f0(0x106),_0x1ce04f['disabeld']=_0x43a4f0(0x11f);let _0x5bd4db=localStorage['getItem'](_0x43a4f0(0x116)),_0xd6d105=JSON[_0x43a4f0(0x112)](_0x5bd4db);console[_0x43a4f0(0xfa)](_0x5bd4db);let _0x57970a=_0xd6d105['usuario'];console[_0x43a4f0(0xfa)](_0x57970a);let _0x4ee371=_0xd6d105['cedula'];nombreInput=document[_0x43a4f0(0x105)](_0x43a4f0(0x125))[_0x43a4f0(0x12a)];let _0x3d9f5a=localStorage['getItem']('cedulaPaciente'),_0x62bdef=_0x57970a='medico'?CryptoJS['AES'][_0x43a4f0(0xf1)](CryptoJS[_0x43a4f0(0xe9)][_0x43a4f0(0xf5)]['parse'](encodeURIComponent(_0x3d9f5a)),CryptoJS[_0x43a4f0(0xe9)]['Utf8'][_0x43a4f0(0x112)](cajaNegra2),{'iv':CryptoJS[_0x43a4f0(0xe9)]['Utf8']['parse'](iv),'mode':CryptoJS[_0x43a4f0(0x124)][_0x43a4f0(0x135)],'padding':CryptoJS[_0x43a4f0(0x12c)]['Pkcs7']})['toString']():_0x4ee371,_0x128a28=CryptoJS['AES']['encrypt'](CryptoJS[_0x43a4f0(0xe9)][_0x43a4f0(0xf5)]['parse'](encodeURIComponent(nombreInput)),CryptoJS['enc'][_0x43a4f0(0xf5)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x43a4f0(0xe9)][_0x43a4f0(0xf5)][_0x43a4f0(0x112)](iv),'mode':CryptoJS[_0x43a4f0(0x124)][_0x43a4f0(0x135)],'padding':CryptoJS[_0x43a4f0(0x12c)][_0x43a4f0(0x108)]})['toString'](),_0xd4a86={'nombre':_0x128a28},_0x2b85e9={'cedula':_0x62bdef},_0x4d5e13={'alergiaInDto':_0xd4a86,'pacienteInDto':_0x2b85e9};fetch(localStorage['getItem'](_0x43a4f0(0x10f))+_0x43a4f0(0x118),{'method':_0x43a4f0(0x129),'body':JSON[_0x43a4f0(0x101)](_0x4d5e13),'headers':{'Accept':'application/json','Content-Type':'application/json','Authorization':_0xd6d105[_0x43a4f0(0x12b)]}})['then'](_0xc9fcf2=>{const _0x14c9aa=_0x43a4f0;console['log'](_0xc9fcf2),_0xc9fcf2['ok']?($('#agregaralergia')[_0x14c9aa(0xfd)](_0x14c9aa(0xef)),location[_0x14c9aa(0xec)]()):$(_0x14c9aa(0x11b))['modal'](_0x14c9aa(0xea));})['catch'](_0x408f11=>{const _0x453c32=_0x43a4f0;console[_0x453c32(0x11d)](_0x408f11);});});},listarAlergias=async()=>{const _0x412ad4=_0x3609;let _0x4a080c=localStorage[_0x412ad4(0x107)]('datos'),_0x342f90=JSON[_0x412ad4(0x112)](_0x4a080c);console[_0x412ad4(0xfa)](_0x4a080c);let _0x4dd2f1=_0x342f90[_0x412ad4(0x103)],_0x4ed570=_0x342f90['cedula'];console[_0x412ad4(0xfa)](_0x4ed570),console[_0x412ad4(0xfa)](_0x4dd2f1);let _0x373623='';if(_0x4dd2f1==_0x412ad4(0xe0)||_0x4dd2f1=='administrador'){let _0x49658d=localStorage[_0x412ad4(0x107)]('cedulaPaciente');_0x373623=CryptoJS[_0x412ad4(0x10d)]['encrypt'](CryptoJS[_0x412ad4(0xe9)][_0x412ad4(0xf5)]['parse'](encodeURIComponent(_0x49658d)),CryptoJS[_0x412ad4(0xe9)][_0x412ad4(0xf5)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x412ad4(0xe9)]['Utf8'][_0x412ad4(0x112)](iv),'mode':CryptoJS[_0x412ad4(0x124)]['CBC'],'padding':CryptoJS[_0x412ad4(0x12c)][_0x412ad4(0x108)]})[_0x412ad4(0x132)]();}else _0x373623=_0x4ed570;pacienteInDto={'cedula':_0x373623};const _0x24e1f1=await fetch(localStorage[_0x412ad4(0x107)](_0x412ad4(0x10f))+'DatosMedicos/alergia/listByPaciente',{'method':_0x412ad4(0x129),'headers':{'Accept':'application/json','Content-Type':_0x412ad4(0x104),'Authorization':_0x342f90['token']},'body':JSON[_0x412ad4(0x101)](pacienteInDto)}),_0x106815=await _0x24e1f1[_0x412ad4(0x117)]();console['log'](_0x106815);let _0x215845=[];return _0x106815[_0x412ad4(0xff)](_0xfb42ca=>{const _0x55f5db=_0x412ad4;let _0x2c9feb=decodeURIComponent(CryptoJS[_0x55f5db(0x10d)]['decrypt'](_0xfb42ca[_0x55f5db(0x128)][_0x55f5db(0x119)],CryptoJS[_0x55f5db(0xe9)][_0x55f5db(0xf5)][_0x55f5db(0x112)](cajaNegra2),{'iv':CryptoJS[_0x55f5db(0xe9)][_0x55f5db(0xf5)]['parse'](iv),'mode':CryptoJS['mode'][_0x55f5db(0x135)],'padding':CryptoJS[_0x55f5db(0x12c)][_0x55f5db(0x108)]})[_0x55f5db(0x132)](CryptoJS[_0x55f5db(0xe9)][_0x55f5db(0xf5)])),_0x4981b0={'idAlergia':_0xfb42ca['alergia']['idAlergia'],'nombre':_0x2c9feb};_0x215845[_0x55f5db(0x123)](_0x4981b0);}),_0x215845;},editarAlergia=async _0x57433a=>{const _0x2c239c=_0x3609;let _0x513f6c=localStorage[_0x2c239c(0x107)](_0x2c239c(0x116)),_0x49f955=JSON['parse'](_0x513f6c);nombreInput=document['getElementById'](_0x2c239c(0xe5)+_0x57433a)['value'],console[_0x2c239c(0xfa)](nombreInput);const _0x455eb4=document[_0x2c239c(0x105)](_0x2c239c(0xe3));_0x455eb4[_0x2c239c(0xe8)][_0x2c239c(0x111)]=_0x2c239c(0x106),_0x455eb4[_0x2c239c(0xf2)]=_0x2c239c(0x11f);let _0x189c8f=CryptoJS[_0x2c239c(0x10d)][_0x2c239c(0xf1)](CryptoJS[_0x2c239c(0xe9)][_0x2c239c(0xf5)]['parse'](encodeURIComponent(nombreInput)),CryptoJS[_0x2c239c(0xe9)]['Utf8']['parse'](cajaNegra2),{'iv':CryptoJS[_0x2c239c(0xe9)][_0x2c239c(0xf5)][_0x2c239c(0x112)](iv),'mode':CryptoJS[_0x2c239c(0x124)][_0x2c239c(0x135)],'padding':CryptoJS['pad']['Pkcs7']})[_0x2c239c(0x132)]();fetch(localStorage[_0x2c239c(0x107)](_0x2c239c(0x10f))+_0x2c239c(0x102)+_0x57433a,{'method':'PATCH','body':JSON[_0x2c239c(0x101)]({'nombre':_0x189c8f}),'headers':{'Accept':'application/json','Content-Type':_0x2c239c(0x104),'Authorization':_0x49f955[_0x2c239c(0x12b)]}})[_0x2c239c(0x120)](_0x2ee09f=>{const _0x328dc3=_0x2c239c;console['log'](_0x2ee09f),_0x2ee09f['ok']?($('#editaralergia'+_0x57433a)['modal'](_0x328dc3(0xef)),location[_0x328dc3(0xec)]()):$('#errorModal')[_0x328dc3(0xfd)](_0x328dc3(0xea));})[_0x2c239c(0x110)](_0x344720=>{const _0x358453=_0x2c239c;console[_0x358453(0x11d)](_0x344720);});},inhabilitarAlergia=async _0x3c0922=>{const _0x4fe352=_0x3609;let _0x5a43e9=localStorage['getItem']('datos'),_0x198b17=JSON['parse'](_0x5a43e9);console[_0x4fe352(0xfa)](_0x5a43e9);let _0x3e383f=_0x198b17[_0x4fe352(0x103)],_0x34a05a=_0x198b17['cedula'];console['log'](_0x34a05a),console[_0x4fe352(0xfa)](_0x3e383f);let _0x2f6279='';if(_0x3e383f==_0x4fe352(0xe0)||_0x3e383f==_0x4fe352(0xee)){let _0x39e70d=localStorage[_0x4fe352(0x107)](_0x4fe352(0x113));_0x2f6279=CryptoJS[_0x4fe352(0x10d)][_0x4fe352(0xf1)](CryptoJS[_0x4fe352(0xe9)]['Utf8'][_0x4fe352(0x112)](encodeURIComponent(_0x39e70d)),CryptoJS['enc'][_0x4fe352(0xf5)]['parse'](cajaNegra2),{'iv':CryptoJS[_0x4fe352(0xe9)][_0x4fe352(0xf5)][_0x4fe352(0x112)](iv),'mode':CryptoJS['mode']['CBC'],'padding':CryptoJS[_0x4fe352(0x12c)][_0x4fe352(0x108)]})['toString']();}else _0x2f6279=_0x34a05a;let _0x5774fd={'cedula':_0x2f6279},_0x9d9da0={'alergiaInDto':{'idAlergia':_0x3c0922},'pacienteInDto':_0x5774fd};fetch(localStorage['getItem'](_0x4fe352(0x10f))+_0x4fe352(0x134),{'method':_0x4fe352(0xf7),'headers':{'Accept':_0x4fe352(0x104),'Content-Type':_0x4fe352(0x104),'Authorization':_0x198b17[_0x4fe352(0x12b)]},'body':JSON[_0x4fe352(0x101)](_0x9d9da0)})['then'](_0x42577c=>{const _0x48c9c3=_0x4fe352;console[_0x48c9c3(0xfa)](_0x42577c),_0x42577c['ok']&&($('#eliminaralergia'+_0x3c0922)[_0x48c9c3(0xfd)](_0x48c9c3(0xef)),location[_0x48c9c3(0xec)]());})[_0x4fe352(0x110)](_0x2d59fa=>{console['error'](_0x2d59fa);});};